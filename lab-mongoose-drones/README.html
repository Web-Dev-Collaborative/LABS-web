<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="pp-basic-crud-with-drones">PP | Basic CRUD with Drones</h1>
<h2 id="section"></h2>
<p>After this learning unit, you should be able to:</p>
<ul>
<li>Create a basic web application using Express.</li>
<li>Use Mongoose in an Express application.</li>
<li>Perform CR (create and read) actions on your database with a single Mongoose model through your web application.</li>
</ul>
<h2 id="requirements">Requirements</h2>
<ul>
<li><a href="https://guides.github.com/activities/forking/">Fork this repo</a></li>
<li>Clone your fork into your <code>~/code/labs</code> folder.</li>
</ul>
<h2 id="submission">Submission</h2>
<p>Upon completion, run the following commands:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git add .</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">&quot;done&quot;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git push origin master</span></code></pre></div>
<p>Navigate to your repo and create a Pull Request -from your master branch to the original repository master branch.</p>
<p>In the Pull request name, add your name and last names separated by a dash “-”.</p>
<h2 id="deliverables">Deliverables</h2>
<p>All the files that make your Express/Mongoose app work, including your <code>drones.js</code> routes file and your <code>drone.js</code> model file.</p>
<h2 id="introduction">Introduction</h2>
<p>An <a href="https://en.wikipedia.org/wiki/Unmanned_aerial_vehicle">unmanned aerial vehicle (UAV)</a>, commonly known as a <strong>drone</strong>, unmanned aircraft system (UAS), or by several other names, is an aircraft without a human pilot aboard. They can be controlled remotely by a person or autonomously by computers.</p>
<p>Though their origins lie in military applications, they are used in business, agriculture, science and for recreation.</p>
<p>Amazon is even trying to use them <a href="https://www.amazon.com/Amazon-Prime-Air/b?node=8037720011">to deliver packages</a>.</p>
<figure>
<img src="https://s3-eu-west-1.amazonaws.com/ih-materials/uploads/upload_926e75d45f2a997152f4401844b3b4d5.jpg" alt="Amazon Prime Air drone" /><figcaption aria-hidden="true">Amazon Prime Air drone</figcaption>
</figure>
<p>Hopefully you won’t have one of these after you:</p>
<figure>
<img src="https://s3-eu-west-1.amazonaws.com/ih-materials/uploads/upload_e7d709d82f92c8a20fab10dc14f10100.jpg" alt="General Atomics MQ-9 Reaper, a military drone" /><figcaption aria-hidden="true">General Atomics MQ-9 Reaper, a military drone</figcaption>
</figure>
<p>Let’s create an app for the drone enthusiast using Express and Mongoose! Maybe the drones will spare us when they take over everything.</p>
<p>The app will allow a user to keep track of their drone collection. They will be able to see a list of their drones, and add new ones to their collection.</p>
<h3 id="starter-code">Starter Code</h3>
<p>Note that our starter code for this exercise is quite comprehensive. We’ve already used the Express generator to create the initial project structure. We’ve also created the <code>models/</code> and <code>views/drones/</code> folders, as well as the <code>bin/seeds.js</code> and <code>routes/drones.js</code> files.</p>
<pre><code>starter-code/
├── .gitignore
├── app.js
├── bin
│   ├── seeds.js
│   └── www
├── models
│   └── .keep
├── package.json
├── public
│   ├── images
│   ├── javascripts
│   └── stylesheets
│       └── style.css
├── routes
│   ├── drones.js
│   ├── index.js
│   └── users.js
└── views
    ├── drones
    │   └── .keep
    ├── error.ejs
    ├── index.ejs
    └── layout.ejs</code></pre>
<p>The <code>routes/drones.js</code> file contains the routes we will be using for exercise, but the callbacks are all empty. You will be writing the code that goes inside them.</p>
<p>Finally, we’ve done some initial wiring in the <code>app.js</code> file. We’ve required Mongoose and connected to the <code>drones-dev</code> database on <code>localhost</code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">// ...</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> mongoose <span class="op">=</span> <span class="pp">require</span>(<span class="st">&#39;mongoose&#39;</span>)<span class="op">;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">// ...</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>mongoose<span class="op">.</span><span class="fu">connect</span>(<span class="st">&#39;mongodb://localhost/drones-dev&#39;</span>)<span class="op">;</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co">// ...</span></span></code></pre></div>
<p>And we’ve also done the wiring between the <code>app.js</code> and the drones routes:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">// ...</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> index <span class="op">=</span> <span class="pp">require</span>(<span class="st">&#39;./routes/index&#39;</span>)<span class="op">;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> users <span class="op">=</span> <span class="pp">require</span>(<span class="st">&#39;./routes/users&#39;</span>)<span class="op">;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">// DRONES routes!</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> drones <span class="op">=</span> <span class="pp">require</span>(<span class="st">&#39;./routes/drones&#39;</span>)<span class="op">;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co">// ...</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>app<span class="op">.</span><span class="fu">use</span>(<span class="st">&#39;/&#39;</span><span class="op">,</span> index)<span class="op">;</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>app<span class="op">.</span><span class="fu">use</span>(<span class="st">&#39;/users&#39;</span><span class="op">,</span> users)<span class="op">;</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co">// Wire the drones routes with the app</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>app<span class="op">.</span><span class="fu">use</span>(<span class="st">&#39;/&#39;</span><span class="op">,</span> drones)<span class="op">;</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="co">// ...</span></span></code></pre></div>
<p>Now that we know what we are starting with, let’s get to coding!</p>
<figure>
<img src="https://s3-eu-west-1.amazonaws.com/ih-materials/uploads/upload_2eaf366a0cf7aa9c4e2590e616469388.gif" alt="Let’s go" /><figcaption aria-hidden="true">Let’s go</figcaption>
</figure>
<h2 id="iteration-1-drone-model">Iteration #1: <code>Drone</code> model</h2>
<p>Our first step is to <strong>create the <code>Drone</code> model</strong> and <strong>seed some initial drones</strong> in our database.</p>
<p>The <code>Drone</code> model should have: - <code>name</code> - String (name of the drone model, like <em>General Atomics MQ-9 Reaper</em>) - <code>propellers</code> - Number (amount of propellers, like <em>4</em>) - <code>maxSpeed</code> - Number (meters per second for the drone’s maximum speed, like <em>18</em>)</p>
<h3 id="steps-we-will-follow-in-this-iteration">Steps we will follow in this iteration:</h3>
<ol type="1">
<li>Create the <code>drone.js</code> model file in the <code>models/</code> folder.</li>
<li>In the <code>drone.js</code> model file:
<ul>
<li>Create the drone schema with <code>name</code>, <code>propellers</code> and <code>maxSpeed</code>.</li>
<li>Create the <code>Drone</code> model with the schema.</li>
<li>Export the <code>Drone</code> model.</li>
</ul></li>
<li>In the <code>bin/seeds.js</code> file:
<ul>
<li>Create an array of 3 objects, each with <code>name</code>, <code>propellers</code> and <code>maxSpeed</code> for our initial drones.</li>
<li>Call the <code>Drone</code> model’s <code>create</code> method with the array as argument.</li>
<li>In the <code>create</code> method’s callback, display feedback.</li>
</ul></li>
<li>Run the seed file with <code>node</code> to seed your database.</li>
<li>Check the database with the <code>mongo</code> command to confirm that your data was saved.</li>
</ol>
<h3 id="hints">Hints</h3>
<p>Before your start using the model in <strong>Step 4</strong>, you need to require Mongoose, require the <code>Drone</code> model and call Mongoose’s <code>connect</code> method to connect to the database.</p>
<p>For the drones array in <strong>Step 4</strong>, it should look something like this:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> droneData <span class="op">=</span> [</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  { <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;Creeper XL 500&#39;</span><span class="op">,</span> <span class="dt">propellers</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">maxSpeed</span><span class="op">:</span> <span class="dv">12</span> }<span class="op">,</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  { <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;Racer 57&#39;</span><span class="op">,</span> <span class="dt">propellers</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">maxSpeed</span><span class="op">:</span> <span class="dv">20</span> }<span class="op">,</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  { <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;Courier 3000i&#39;</span><span class="op">,</span> <span class="dt">propellers</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">maxSpeed</span><span class="op">:</span> <span class="dv">18</span> }</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>]<span class="op">;</span></span></code></pre></div>
<p>Also for <strong>Step 4</strong>, you should check for the error in the callback and throw it if it’s there. If there’s no error, it would be good to loop through the newly saved drones and display their IDs.</p>
<p>Before <strong>Step 5</strong>, remember to call Mongoose’s <code>disconnect</code> method in the <code>create</code> callback. Otherwise your seeds script will just keep the connection open and never finish.</p>
<p>For <strong>Step 5</strong>, you can confirm that your drones are saved by running this Mongo query:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> db<span class="op">.</span><span class="at">drones</span><span class="op">.</span><span class="fu">find</span>()</span></code></pre></div>
<h2 id="iteration-2-listing-our-drones">Iteration #2: Listing our drones</h2>
<p>Now that we’ve got some drones in the database, we can start working with them in our Express app. Let’s <strong>display a list of all the drones</strong>.</p>
<p>Here’s the route we will be using:</p>
<table>
<thead>
<tr class="header">
<th>Route</th>
<th>HTTP Verb</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>/drones</code></td>
<td>GET</td>
<td>Show all drones</td>
</tr>
</tbody>
</table>
<h3 id="steps-we-will-follow-in-this-iteration-1">Steps we will follow in this iteration:</h3>
<ol type="1">
<li>Locate the <code>/drones</code> GET route in <code>routes/drones.js</code>.</li>
<li>In the route callback:
<ul>
<li>Call the <code>Drone</code> model’s <code>find</code> method to retrieve all the drones.</li>
<li>If there’s an error, call the route’s <code>next</code> function and return.</li>
<li>If there isn’t an error, render the <code>drones/index</code> view.</li>
<li>Pass the variable with the array of drones into the view.</li>
</ul></li>
<li>Create the <code>index.ejs</code> view file inside the <code>views/drones/</code> folder.</li>
<li>In the <code>views/drones/index.ejs</code> view file:
<ul>
<li>Add an <code>&lt;h2&gt;</code> tag for the page’s heading.</li>
<li>Use a <code>forEach</code> loop to display tags with each drone’s <code>name</code>, <code>propellers</code>, and <code>speed</code>.</li>
</ul></li>
<li>In the <code>views/index.ejs</code> (homepage) view file:
<ul>
<li>Add a link that goes to the <code>/drones</code> route.</li>
</ul></li>
</ol>
<h3 id="hints-1">Hints</h3>
<p>For <strong>Step 2</strong>, this will be the first time you use the <code>Drone</code> model in a route. Remember to require the <code>models/drone.js</code> file to be able to use it.</p>
<p>For <strong>Step 4</strong>, you’ll need a <code>forEach</code> loop like this one (assuming your array of drones is named <code>drones</code>):</p>
<pre class="ejs"><code>&lt;ul&gt;
  &lt;% drones.forEach((aDrone) =&gt; { %&gt;
    &lt;!-- display info from aDrone --&gt;
  &lt;% }) %&gt;
&lt;/ul&gt;</code></pre>
<h2 id="iteration-3-adding-new-drones">Iteration #3: Adding new drones</h2>
<p>Now that we have a list of drones, now we can focus our attention on <strong>saving new drones to our database</strong>.</p>
<p>Here are the routes we will be using:</p>
<table>
<thead>
<tr class="header">
<th>Route</th>
<th>HTTP Verb</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>/drones/new</code></td>
<td>GET</td>
<td>Show a form to create a drone</td>
</tr>
<tr class="even">
<td><code>/drones</code></td>
<td>POST</td>
<td>Save a drone to the database</td>
</tr>
</tbody>
</table>
<h3 id="steps-we-will-follow-in-this-iteration-2">Steps we will follow in this iteration:</h3>
<ol type="1">
<li>Locate the <code>/drones/new</code> GET route in <code>routes/drones.js</code>:</li>
<li>In that route’s callback:
<ul>
<li>Render the <code>drones/new</code> view.</li>
</ul></li>
<li>Create the <code>new.ejs</code> view file inside the <code>views/drones/</code> folder.</li>
<li>In the <code>views/drones/new.ejs</code> view file:
<ul>
<li>Add an <code>&lt;h2&gt;</code> for the page’s heading.</li>
<li>Add a <code>&lt;form&gt;</code> tag that makes a POST request to <code>/drones</code>.</li>
<li>Add <code>&lt;input&gt;</code> tags inside the <code>&lt;form&gt;</code> tag for a new drone’s <code>name</code>, <code>propellers</code> and <code>maxSpeed</code></li>
<li>Add a <code>&lt;button&gt;</code> tag inside the <code>&lt;form&gt;</code> tag so that it can be submitted.</li>
</ul></li>
<li>In the <code>views/drones/index.ejs</code> view file:
<ul>
<li>Add a link that goes to the <code>/drones/new</code> route.</li>
</ul></li>
<li>Locate the <code>/drones</code> POST route in <code>routes/drones.js</code>.</li>
<li>In that route’s callback:
<ul>
<li>Create an object with keys for <code>name</code>, <code>propellers</code> and <code>maxSpeed</code>.</li>
<li>Values for those keys should come from the form submission (<code>req.body</code>).</li>
<li>Create an instance of the <code>Drone</code> model with the object you made in the previous step.</li>
<li>Call the <code>save</code> method to save the new drone to the database.</li>
<li>If there’s an error, call the route’s <code>next</code> function and return.</li>
<li>If there isn’t an error, redirect to the list of drones page (GET <code>/drones</code>).</li>
</ul></li>
</ol>
<h3 id="hints-2">Hints</h3>
<p>For <strong>Step 4</strong>, your form will look something like this:</p>
<pre class="ejs"><code>&lt;form method=&quot;post&quot; action=&quot;/drones&quot;&gt;
  &lt;div&gt;
    &lt;label for=&quot;drone-name&quot;&gt; Model Name: &lt;/label&gt;
    &lt;input type=&quot;text&quot; name=&quot;name&quot; id=&quot;drone-name&quot;&gt;
  &lt;/div&gt;

  &lt;div&gt;
    &lt;label for=&quot;propellers&quot;&gt; Propellers: &lt;/label&gt;
    &lt;input type=&quot;number&quot; name=&quot;propellers&quot; id=&quot;propellers&quot;&gt;
  &lt;/div&gt;

  &lt;div&gt;
    &lt;label for=&quot;max-speed&quot;&gt; Maximum Speed (meters per second): &lt;/label&gt;
    &lt;input type=&quot;number&quot; name=&quot;maxSpeed&quot; id=&quot;max-speed&quot;&gt;
  &lt;/div&gt;

  &lt;button&gt; Add this drone &lt;/button&gt;
&lt;/form&gt;</code></pre>
<h2 id="bonus-styling">Bonus: Styling</h2>
<p>Our app should be pretty ugly right now if you (correctly) focused on the back-end during this exercise. To be a fully functioning web app, we need to add some styles.</p>
<p>In your layout require bootstrap, and add some very basic styles to make our drones app look ready for production.</p>
<p>/Happy coding!</p>
</body>
</html>
